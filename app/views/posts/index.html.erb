<div class="bt-breadcrumb">
  <div class="container">
    <div class="row">
      <ul class="breadcrumb">
        <li><a href="/"><i class="fa fa-home"></i></a>
        </li>
        <li><%= link_to 'Blog', posts_path %>
        </li>
      </ul>
    </div>
  </div>
</div><!-- /.bt-breadcrumb -->
<div class="container">
  <div class="row">
    <%= render partial: 'left_column' %>
      <div id="content" class="col-sm-9">
        <h1>Blog</h1>
        <div class="article-filter">
          <div class="display hidden-xs">
            <button type="button" id="list-view" class="btn-list" data-toggle="tooltip" title="List"><i class="fa fa-th-list"></i>
            </button>
            <button type="button" id="grid-view" class="btn-grid" data-toggle="tooltip" title="Grid"><i class="fa fa-th-large"></i>
            </button>
          </div>
          <div class="limit-sort hidden-xs">
            <div class="box_sort">
              <label class="control-label" for="input-sort">Sort By:</label>
              <label>
                <select id="input-sort" class="form-control">
                  <option value="blog.html&amp;sort=ba.sort_order&amp;order=ASC" selected="selected">Default</option>
                  <option value="sort=bad.name&amp;order=ASC">Name (A - Z)</option>
                  <option value="sort=bad.name&amp;order=DESC">Name (Z - A)</option>
                  <option value="sort=ba.date_added&amp;order=ASC">Date Added (Old &gt; New)</option>
                  <option value="sort=ba.date_added&amp;order=DESC">Date Added (New &gt; Old)</option>
                  <option value="sort=comment&amp;order=DESC">Comment (Highest)</option>
                  <option value="sort=comment&amp;order=ASC">Comment (Lowest)</option>
                </select>
              </label>
            </div>
            <div class="box_limit">
              <label class="control-label" for="input-limit">Show:</label>
              <label>
                <select id="input-limit" class="form-control">
                  <option value="limit=5" selected="selected">5</option>
                  <option value="limit=10">10</option>
                  <option value="limit=15">15</option>
                  <option value="limit=20">20</option>
                  <option value="limit=30">30</option>
                </select>
              </label>
            </div>
          </div>
        </div><!-- /.article-filter -->
        <div class="row">
          <% @posts.each do |post| %>
            <div class="article-layout article-list col-xs-12">
            <div class="content-bg">
              <div class="article-image">
                <a href="blog-detail.html"><img src="<%= post.image.url(:medium) %>" alt=<%= "#{post.name}" %> title=<%= "#{post.name}" %> class="img-responsive" />
                </a>
              </div>
              <div class="article_dt">
                <div class="article-name">
                  <h2><%= link_to post.name, post_path(post) %></h2> 
                </div>
                  <div class="time-stamp"><%= post.created_at.strftime('%A, %b %d, %Y') %> </div>
                  <div class="article-title">
                    <p><%= post.description %></p>
                  </div> 
                  <%= link_to 'Read more', post_path(post), class: "btn-readmore" %>
                </div>
              </div>
            </div>
          <% end %>
       </div><!-- /.row -->
       <div class="result-pagination blog-pagination">
         <div class="results pull-left">Showing 1 to 5 of 7 (2 Pages)</div>
         <div class="links">
           <ul class="pagination">
             <li class="active"><span>1</span>
             </li>
             <li><a href="#page=2">2</a>
             </li>
             <li><a href="#page=2">&gt;</a>
             </li>
             <li><a href="#page=2">&gt;|</a>
             </li>
           </ul>
         </div>
       </div><!-- /.result-pagination -->
     </div><!-- /#content -->
   </div><!-- /.row -->
 </div><!-- /.container -->


<script src="/javascripts/jquery-2.1.1.min.js"></script>
<script src="/javascripts/bootstrap.min.js"></script>
<script src="/javascripts/getwidthbrowser.js"></script>
<script src="/javascripts/cs.bossthemes.js"></script>
<script src="/javascripts/jquery.jgrowl.js"></script>
<script src="/javascripts/jquery.appear.js"></script>
<script src="/javascripts/video.js"></script>
<script src="/javascripts/jquery.smoothscroll.js"></script>
<script src="/javascripts/carouFredSel-6.2.1.js"></script>
<script src="/javascripts/plugins.js"></script>
<script src="/javascripts/jquery.tools.min.js"></script>
<script src="/javascripts/jquery.revolution.min.js"></script>
<script src="/javascripts/cloud-zoom.1.0.3.js"></script>
<script src="/javascripts/custom.js"></script>
<script>
                        jQuery(document).ready(function() {
                          /* View Mode */
        // Article List
        $('#list-view').on('click',function() {
          $('#content .article-layout').attr('class', 'article-layout article-list col-xs-12');
          localStorage.setItem('display', 'list');
        });
        // Article Grid
        $('#grid-view').on('click',function() {
            // What a shame bootstrap does not take into account dynamically loaded columns
            cols = $('#column-right, #column-left').length;
            if (cols == 2) {
              $('#content .article-layout').attr('class', 'article-layout article-grid col-md-6 col-xs-12');
            } else if (cols == 1) {
              $('#content .article-layout').attr('class', 'article-layout article-grid col-md-4 col-sm-6 col-xs-12');
            } else {
              $('#content .article-layout').attr('class', 'article-layout article-grid col-md-3 col-sm-4 col-xs-12');
            }
            localStorage.setItem('display', 'grid');
          });
        if (localStorage.getItem('display') == 'list') {
          $('#list-view').trigger('click');
        } else {
          $('#grid-view').trigger('click');
        }
      });
    </script>